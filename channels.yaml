channels:
    '##legoktm-bots':
        - foobarbaz

    "/dev/null":
        - User-Bd808-Test
        - Spam(-.*)?

    "#huggle":
#        lambda x: x.get("X-Bugzilla-Product", None) == "Huggle",
        - Huggle(-.*)?

    "#pywikibot":
#        lambda x: x.get("X-Bugzilla-Product", None) == "Pywikibot",
        - Pywikibot(-.*)?

    "#wm-bot":
        - WM-Bot

    "#wikidata":
        - Wikidata
        # x.get("X-Bugzilla-Product", None) in ["MediaWiki extensions"] and
        # x.get("X-Bugzilla-Component", None) in ["WikidataRepo", "WikidataClient"]
        - MediaWiki-extensions-WikidataRepository
        - MediaWiki-extensions-WikidataClient
        # x.get("X-Bugzilla-Product", None) in ["Wikimedia"] and
        # x.get("X-Bugzilla-Component", None) in ["Wikidata"]
        - Wikimedia-Wikidata

    "#wikimedia-collaboration":
        # x.get("X-Bugzilla-Product", None) == "MediaWiki extensions") and \
        # x.get("X-Bugzilla-Component", None) in ["Echo", "Flow", "PageCuration", "Thanks", "WikiLove"]),
        - MediaWiki-extensions-Echo
        - MediaWiki-extensions-Flow
        - MediaWiki-extensions-PageCuration
        - MediaWiki-extensions-Thanks
        - MediaWiki-extensions-WikiLove
        - Collaboration-Team

    "#mediawiki-i18n":
        # x.get("X-Bugzilla-Component", None) in ["ContentTranslation"]),
        - .*-ContentTranslation
        - translatewiki\.net

    "#wikimedia-labs":
        # x.get("X-Bugzilla-Product", None) in ["Tool Labs tools", "Wikimedia Labs"]
        - Tool-Labs(.*)?
        - Labs
        - Wikimedia-Labs(-.*)?
        # x.get("X-Bugzilla-Product", None) == "MediaWiki extensions") and \
        # x.get("X-Bugzilla-Component", None) in ["OpenStackManager"])
        - MediaWiki-extensions-OpenStackManager
        - Quarry
        - Wikibugs
        - Gerrit-Patch-Uploader
        - LabsDB-Auditor

    "#wikimedia-mobile":
        # x.get("X-Bugzilla-Product", None) in ["Wikimedia Mobile", "Commons App", "Wikipedia App", "MobileFrontend"],
        - Wikimedia-Mobile(-.*)?
        - Commons-App(-.*)?
        - Wikipedia-App(-.*)?
        - MobileFrontend(-.*)?
        - Mobile-Web

    "#wikimedia-devtools":
        # teams
        - Phabricator
        # projects
        - Wikibugs
        - Phabricator.org
        - Bugzilla-Migration
        - Bugzilla-Preview
        - RT-Migration
        - Project-Management
        - Code-Review
        - Gitblit-Deprecate

    "#wikimedia-releng":
        # teams
        - Release-Engineering
        - Phabricator
        # projects
        - Code-Review
        - Continuous-integration
        - Quality-Assurance
        - Beta-Cluster
        - Deployment-Systems

    "#mediawiki-visualeditor":
        # x.get("X-Bugzilla-Product", None) in ["VisualEditor", "OOjs", "OOjs UI"] or \
        - VisualEditor(-.*)?
        - OOjs(-.*)?
        - OOjs-UI(-.*)?
        #  x.get("X-Bugzilla-Product", None) == "MediaWiki extensions") and \
        #  x.get("X-Bugzilla-Component", None) in ["TemplateData", "Cite", "WikiEditor"])
        - MediaWiki-extensions-TemplateData
        - MediaWiki-extensions-Cite
        - MediaWiki-extensions-WikiEditor
        #  x.get("X-Bugzilla-Product", None) == "MediaWiki") and \
        #  x.get("X-Bugzilla-Component", None) in ["Page editing", "ResourceLoader"])
        - MediaWiki-Page-editing
        - MediaWiki-ResourceLoader

    "#mediawiki-parsoid":
        # x.get("X-Bugzilla-Product", None) in ["Parsoid"],
        - Parsoid(-.*)?

    "#wikimedia-services":
        - restbase(-.*)?
        - services(-.*)?
        - blocked-on-services

    "#wikimedia-multimedia":
        # All tasks handled by the Multimedia team are tagged with the Multimedia project
        # in addition to the relevant extensions. For now adding that tag is done manually,
        # but once herald is available to us we'll make it automated.
        - Multimedia

    "#wikimedia-analytics":
        # x.get("X-Bugzilla-Product", None) == "Analytics",
        - Analytics(-.*)?
        - Quarry

    '#wikimedia-research':
        - Quarry

    "#mediawiki-core":
        - MediaWiki-Core-Team

    # The following changes should ALWAYS be in #wikimedia-dev, even if the bugs
    # are also reported elsewhere.
    "#wikimedia-dev":
        # x.get("X-Bugzilla-Product", None) == "MediaWiki"
        - MediaWiki(-.*)?
        - Phabricator
        - Phabricator.org

    "#wikimedia-fundraising":
        - Wikimedia-Fundraising

    "#wikimedia-operations":
        - ops(-.*)?
        - operations
        - puppet
        - Blocked-on-Operations

    "#wikimedia-teampractices":
        - team-practices

firehose-channel: '#mediawiki-feed'
default-channel: '#wikimedia-dev'
